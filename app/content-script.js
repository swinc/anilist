/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
/*!*******************************!*\
  !*** ./src/content-script.ts ***!
  \*******************************/
/* globals chrome, XMLSerializer */
function getMediaTitle() {
    let contentTitle = 'nothing';
    if (hostName == 'www.hulu.com') {
        const span = document.querySelector('div.PlayerMetadata__title > div > div > span');
        contentTitle = span.textContent;
    }
    else if (hostName == 'www.crunchyroll.com' || hostName == 'beta.crunchyroll.com') {
        // access page source
        const generatedSource = new XMLSerializer().serializeToString(document);
        // get episode title
        const reMediaTitle = /<title>(.+?) Episode/; // https://regex101.com/r/zOb55Y/1
        const matchesMediaTitle = generatedSource.match(reMediaTitle);
        if (matchesMediaTitle) {
            contentTitle = matchesMediaTitle[1];
        }
    }
    return contentTitle;
}
const hostName = window.location.hostname;
chrome.runtime.onMessage.addListener((message, _sender, sendResponse) => {
    if (message === 'get-media-title') {
        const mediaTitle = getMediaTitle();
        sendResponse(mediaTitle);
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC1zY3JpcHQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29udGVudC1zY3JpcHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsbUNBQW1DO0FBRW5DLFNBQVMsYUFBYTtJQUNwQixJQUFJLFlBQVksR0FBVyxTQUFTLENBQUE7SUFFcEMsSUFBSSxRQUFRLElBQUksY0FBYyxFQUFFO1FBQzlCLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsOENBQThDLENBQUMsQ0FBQTtRQUNuRixZQUFZLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQTtLQUNoQztTQUFNLElBQUksUUFBUSxJQUFJLHFCQUFxQixJQUFJLFFBQVEsSUFBSSxzQkFBc0IsRUFBRTtRQUNsRixxQkFBcUI7UUFDckIsTUFBTSxlQUFlLEdBQUcsSUFBSSxhQUFhLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsQ0FBQTtRQUV2RSxvQkFBb0I7UUFDcEIsTUFBTSxZQUFZLEdBQUcsc0JBQXNCLENBQUEsQ0FBQyxrQ0FBa0M7UUFDOUUsTUFBTSxpQkFBaUIsR0FBRyxlQUFlLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFBO1FBRTdELElBQUksaUJBQWlCLEVBQUU7WUFDckIsWUFBWSxHQUFHLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQ3BDO0tBQ0Y7SUFDRCxPQUFPLFlBQVksQ0FBQTtBQUNyQixDQUFDO0FBR0QsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUE7QUFFekMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsRUFBRTtJQUN0RSxJQUFJLE9BQU8sS0FBSyxpQkFBaUIsRUFBRTtRQUNqQyxNQUFNLFVBQVUsR0FBRyxhQUFhLEVBQUUsQ0FBQTtRQUNsQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUE7S0FDekI7QUFDSCxDQUFDLENBQUMsQ0FBQSJ9
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmlsaXN0LXVwZGF0ZS8uL3NyYy9jb250ZW50LXNjcmlwdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsMkNBQTJDLCt0QyIsImZpbGUiOiIuL2FwcC9jb250ZW50LXNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgY2hyb21lLCBYTUxTZXJpYWxpemVyICovXG5mdW5jdGlvbiBnZXRNZWRpYVRpdGxlKCkge1xuICAgIGxldCBjb250ZW50VGl0bGUgPSAnbm90aGluZyc7XG4gICAgaWYgKGhvc3ROYW1lID09ICd3d3cuaHVsdS5jb20nKSB7XG4gICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYuUGxheWVyTWV0YWRhdGFfX3RpdGxlID4gZGl2ID4gZGl2ID4gc3BhbicpO1xuICAgICAgICBjb250ZW50VGl0bGUgPSBzcGFuLnRleHRDb250ZW50O1xuICAgIH1cbiAgICBlbHNlIGlmIChob3N0TmFtZSA9PSAnd3d3LmNydW5jaHlyb2xsLmNvbScgfHwgaG9zdE5hbWUgPT0gJ2JldGEuY3J1bmNoeXJvbGwuY29tJykge1xuICAgICAgICAvLyBhY2Nlc3MgcGFnZSBzb3VyY2VcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVkU291cmNlID0gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhkb2N1bWVudCk7XG4gICAgICAgIC8vIGdldCBlcGlzb2RlIHRpdGxlXG4gICAgICAgIGNvbnN0IHJlTWVkaWFUaXRsZSA9IC88dGl0bGU+KC4rPykgRXBpc29kZS87IC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3Ivek9iNTVZLzFcbiAgICAgICAgY29uc3QgbWF0Y2hlc01lZGlhVGl0bGUgPSBnZW5lcmF0ZWRTb3VyY2UubWF0Y2gocmVNZWRpYVRpdGxlKTtcbiAgICAgICAgaWYgKG1hdGNoZXNNZWRpYVRpdGxlKSB7XG4gICAgICAgICAgICBjb250ZW50VGl0bGUgPSBtYXRjaGVzTWVkaWFUaXRsZVsxXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29udGVudFRpdGxlO1xufVxuY29uc3QgaG9zdE5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKG1lc3NhZ2UsIF9zZW5kZXIsIHNlbmRSZXNwb25zZSkgPT4ge1xuICAgIGlmIChtZXNzYWdlID09PSAnZ2V0LW1lZGlhLXRpdGxlJykge1xuICAgICAgICBjb25zdCBtZWRpYVRpdGxlID0gZ2V0TWVkaWFUaXRsZSgpO1xuICAgICAgICBzZW5kUmVzcG9uc2UobWVkaWFUaXRsZSk7XG4gICAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lZMjl1ZEdWdWRDMXpZM0pwY0hRdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGN5STZXeUl1TGk5emNtTXZZMjl1ZEdWdWRDMXpZM0pwY0hRdWRITWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklrRkJRVUVzYlVOQlFXMURPMEZCUlc1RExGTkJRVk1zWVVGQllUdEpRVU53UWl4SlFVRkpMRmxCUVZrc1IwRkJWeXhUUVVGVExFTkJRVUU3U1VGRmNFTXNTVUZCU1N4UlFVRlJMRWxCUVVrc1kwRkJZeXhGUVVGRk8xRkJRemxDTEUxQlFVMHNTVUZCU1N4SFFVRkhMRkZCUVZFc1EwRkJReXhoUVVGaExFTkJRVU1zT0VOQlFUaERMRU5CUVVNc1EwRkJRVHRSUVVOdVJpeFpRVUZaTEVkQlFVY3NTVUZCU1N4RFFVRkRMRmRCUVZjc1EwRkJRVHRMUVVOb1F6dFRRVUZOTEVsQlFVa3NVVUZCVVN4SlFVRkpMSEZDUVVGeFFpeEpRVUZKTEZGQlFWRXNTVUZCU1N4elFrRkJjMElzUlVGQlJUdFJRVU5zUml4eFFrRkJjVUk3VVVGRGNrSXNUVUZCVFN4bFFVRmxMRWRCUVVjc1NVRkJTU3hoUVVGaExFVkJRVVVzUTBGQlF5eHBRa0ZCYVVJc1EwRkJReXhSUVVGUkxFTkJRVU1zUTBGQlFUdFJRVVYyUlN4dlFrRkJiMEk3VVVGRGNFSXNUVUZCVFN4WlFVRlpMRWRCUVVjc2MwSkJRWE5DTEVOQlFVRXNRMEZCUXl4clEwRkJhME03VVVGRE9VVXNUVUZCVFN4cFFrRkJhVUlzUjBGQlJ5eGxRVUZsTEVOQlFVTXNTMEZCU3l4RFFVRkRMRmxCUVZrc1EwRkJReXhEUVVGQk8xRkJSVGRFTEVsQlFVa3NhVUpCUVdsQ0xFVkJRVVU3V1VGRGNrSXNXVUZCV1N4SFFVRkhMR2xDUVVGcFFpeERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkJPMU5CUTNCRE8wdEJRMFk3U1VGRFJDeFBRVUZQTEZsQlFWa3NRMEZCUVR0QlFVTnlRaXhEUVVGRE8wRkJSMFFzVFVGQlRTeFJRVUZSTEVkQlFVY3NUVUZCVFN4RFFVRkRMRkZCUVZFc1EwRkJReXhSUVVGUkxFTkJRVUU3UVVGRmVrTXNUVUZCVFN4RFFVRkRMRTlCUVU4c1EwRkJReXhUUVVGVExFTkJRVU1zVjBGQlZ5eERRVUZETEVOQlFVTXNUMEZCVHl4RlFVRkZMRTlCUVU4c1JVRkJSU3haUVVGWkxFVkJRVVVzUlVGQlJUdEpRVU4wUlN4SlFVRkpMRTlCUVU4c1MwRkJTeXhwUWtGQmFVSXNSVUZCUlR0UlFVTnFReXhOUVVGTkxGVkJRVlVzUjBGQlJ5eGhRVUZoTEVWQlFVVXNRMEZCUVR0UlFVTnNReXhaUVVGWkxFTkJRVU1zVlVGQlZTeERRVUZETEVOQlFVRTdTMEZEZWtJN1FVRkRTQ3hEUVVGRExFTkJRVU1zUTBGQlFTSjkiXSwic291cmNlUm9vdCI6IiJ9